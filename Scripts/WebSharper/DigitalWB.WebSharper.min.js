(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;$.Define($$,{DigitalWB:{WebSharper:{Client:{Main:function(){a.iter(function(v){var w,x;w=v[1];x=b.get(v[2]);x.done.apply(x,[function(){return e.showPanelInfo(b("#"+w+"cont").html(x.responseText));}]);return;},e.svgPaths());g.Send("DigitalWB.WebSharper:0",[]);return j.get_Empty();},showPanelInfo:function(z){var A,B,C,D,E;A=40+10;B=z.find("svg").get(0);C=z.find("#tooltipTx").attr("font-size",$$.String(40)).attr("font-family","Arial Black,Gadget,sans-serif").attr("text-anchor","middle").attr("fill","black");D=z.find("#tooltipBg").attr("stroke","black").attr("fill","white").attr("stroke-width","4").attr("opacity","0.60").attr("rx",$$.String(10)).attr("ry",$$.String(10)).attr("height",$$.String(A));E=z.find("#highlightPolygon").attr("opacity","0.70");return z.find(".hover").children().mouseenter(function(){var F;F=this.getAttribute("points");return E.attr("points",F).attr("visibility","visible");}).mousemove(function(G){var H,I,J,K,L,M,N,O,P;H=m.screenToSvg(B,G.clientX,G.clientY);I=[a.get(H,0),a.get(H,1)];J=I[1];K=I[0];L=J-15-10;C.attr("x",$$.String(K)).attr("y",$$.String(L)).attr("visibility","visible").text(this.getAttribute("id"));N=C.get(0);M=2*10+N.getComputedTextLength();O=K-M*0.5;P=J-A-15;return D.attr("width",$$.String(M)).attr("x",$$.String(O)).attr("y",$$.String(P)).attr("visibility","visible");}).mouseout(function(){C.attr("visibility","hidden");D.attr("visibility","hidden");return E.attr("visibility","hidden");});},svgPaths:$.Field(function(){var Q,U;Q=function(R){var S,T;S=R[0];T=R[1];return[T,S,"/static/latestSvg/"+S+".svg"];};U=e.svgs();return a.map(Q,U);}),svgs:$.Field(function(){return[["TopViewA","56.3%"],["ReflectedCeilingA","54.0%"],["ElevationA","25.0%"],["ReflectedCeilingB","52.3%"],["TopViewB","50.2%"],["ElevationB","25.0%"]];})}}},FsEx:{WebSharperEx:{Svg:{getSvgDoc:function(V){var W;W=V.contentDocument;return l.isNull(W)?V.getSVGDocument():W;},polygonCenter:function(X){var Y,Z,_0,_1,_2,_3,_4;Y=0;Z=0;_0=0;_1=n.SplitChars(X.getAttribute("points"),[32],1);for(_2=0;_2<=_1.length-1;_2++){_3=a.get(_1,_2);_0=_0+1;_4=n.SplitChars(_3,[44],1);Y=Y+o(a.get(_4,0));Z=Z+o(a.get(_4,1));}Y=Y/_0;Z=Z/_0;return[Y,Z];},screenToSvg:function($svgNode,$x,$y){var $0=this,$this=this;var pt=$svgNode.createSVGPoint();pt.x=$x;pt.y=$y;pt=pt.matrixTransform($svgNode.getScreenCTM().inverse());return[pt.x,pt.y];},svgObj:function(_5,_6,_7,_8){return j.Element("object",p.ofArray([q.Create("data",_5),l.cls(_6),l.id(_7),l.typ("image/svg+xml"),r.OnAfterRender(_8)]),p.ofArray([j.TextNode("please update your browser. it seams that it does not supports svg files")]));}},cls:function(_9){return q.Create("class",_9);},divCls:function(_,ba){return j.Element("div",p.ofArray([l.cls(_)]),ba);},divId:function(ba,bb){return j.Element("div",p.ofArray([l.id(ba)]),bb);},id:function(bc){return q.Create("id",bc);},isNotNull:function(bd){return!(s.Equals(bd,undefined)?true:s.Equals(bd,undefined));},isNull:function(be){return s.Equals(be,undefined)?true:s.Equals(be,undefined);},log:function(bf,bg){var bh,bi,bj,bk,bl,bm,bn,bo;if(l.isNull(bg)){bi=t.toSafe(bf)+": is null or undefined";bh=u?u.log(bi):undefined;}else{bj="*Log: "+bf+": <"+bg.nodeName+"> Attr: ";bk=bg.attributes;if(l.isNull(bk)){bl=bj=bj+"-null or undefined -";}else{for(bm=0;bm<=bk.length-1;bm++){bn=bk.item(bm);l.isNotNull(bn)?bj=bj+bn.nodeName+"=\""+bn.nodeValue+"\"; ":null;}}bo=bj;bh=u?u.log(bo):undefined;}return bh;},op_BarGreaterMinus:function(){},typ:function(bq){return q.Create("type",bq);}}}});$.OnInit(function(){a=$.Safe($$.WebSharper.Arrays);b=$.Safe($$.jQuery);c=$.Safe($$.DigitalWB);d=$.Safe(c.WebSharper);e=$.Safe(d.Client);f=$.Safe($$.WebSharper.Remoting);g=$.Safe(f.AjaxRemotingProvider);h=$.Safe($$.WebSharper.UI);i=$.Safe(h.Next);j=$.Safe(i.Doc);k=$.Safe($$.FsEx);l=$.Safe(k.WebSharperEx);m=$.Safe(l.Svg);n=$.Safe($$.WebSharper.Strings);o=$.Safe($$.Number);p=$.Safe($$.WebSharper.List);q=$.Safe(i.AttrProxy);r=$.Safe(i.AttrModule);s=$.Safe($$.WebSharper.Unchecked);t=$.Safe($$.WebSharper.PrintfHelpers);return u=$.Safe($$.console);});$.OnLoad(function(){e.svgs();e.svgPaths();return;});}());
